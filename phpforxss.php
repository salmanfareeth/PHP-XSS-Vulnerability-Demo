<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comment Form - XSS Vulnerability - syed_fareeth</title>
</head>
<body>
    <h1>Comment Form</h1>
    <form method="POST" action="">
        <label for="comment">Leave a Comment:</label><br>
        <textarea name="comment" id="comment" rows="4" cols="50"></textarea><br>
        <input type="submit" value="Submit">
    </form>
    
    <h2>Comments:</h2>
    <div id="comments">
        <?php
        // Check if the form was submitted
        if ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_POST['comment'])) {
            // Get the comment from POST request without sanitizing it
            $comment = $_POST['comment'];

            // Display the comment directly
            echo "<p>$comment</p>";

            // Program behavior:
            // If a user enters a normal comment, e.g., "Hello world!", it will be displayed as plain text.
            // If a user enters a comment with a script tag, e.g., <script>alert('Test for XSS');</script>,
            // the script will be executed in the browser, showing an alert box.
            // This behavior demonstrates the XSS vulnerability where arbitrary JavaScript can be injected and executed.
        }
        ?>
    </div>

    <!-- Sample comment with a script tag  -->
    <div id="sampleComment">
    <h2>(The sample comment already contains a script tag with JavaScript code. When the webpage is loaded, the script will execute and show an alert box saying "Welcome from XSS".)</h2>
        <p><script>alert('Welcome from XSS');</script></p>
    </div>

    <!-- Program behavior:
         The above script tag will execute as soon as the page is loaded,
         displaying an alert box with the message "Welcome from XSS".
         This demonstrates the impact of XSS when user input is not properly sanitized.
    -->
    <!-- Test PHP XSS DEMO FROM syed_fareeth -->
</body>
</html>